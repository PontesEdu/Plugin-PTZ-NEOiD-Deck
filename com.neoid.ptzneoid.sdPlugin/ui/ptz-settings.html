<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <script src="https://sdpi-components.dev/releases/v4/sdpi-components.js"></script>
  <title>PTZ Settings</title>

  <style>
    body { font-family: sans-serif; padding: 10px; }
    sdpi-item { margin-bottom: 8px; }
  </style>

</head>
<body>
  <h3>Configurações PTZ</h3>

  <sdpi-item label="Tilt">
    <sdpi-range setting="tilt" min="1" max="20" step="1" default="5"></sdpi-range>
  </sdpi-item>
  <sdpi-item label="Speed">
    <sdpi-range setting="speed" min="1" max="20" step="1" default="5"></sdpi-range>
  </sdpi-item>
  <sdpi-item label="Direction">
    <sdpi-select setting="direction" default="none" placeholder="Selecione a direção">
      <option value="none" disabled selected hidden>Selecione...</option>
      <option value="up">Up</option>
      <option value="down">Down</option>
      <option value="left">Left</option>
      <option value="leftup">Left Up</option>
      <option value="leftdown">Left down</option>
      <option value="right">Right</option>
      <option value="rightup">Right Up</option>
      <option value="rightdown">Right Down</option>
    </sdpi-select>
  </sdpi-item> 

  <!-- <script src="ptz-settings.js"></script> -->
   <script>
    const { streamDeckClient } = SDPIComponents;

    streamDeckClient.on('connected', (jsn) => {
      console.log('Property Inspector conectado', jsn);
      // settings ja são carregadas nos componentes automaticamente
    });

    // Quando o usuário interagir com os componentes, sdpi-components atualiza automaticamente
    // Você pode usar também um botão ou evento manual se quiser.

    // Opcional: observar mudanças e imprimir no console
    streamDeckClient.getSettings().then(settings => {
      console.log('Configurações iniciais:', settings);
    });
    //ou podemos fazer:
    // streamDeckClient.setSettings({ tilt: 45, speed: 7, direction: 'right' });
  </script>
</body>
</html>
