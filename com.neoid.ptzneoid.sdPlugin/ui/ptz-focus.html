<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <script src="https://sdpi-components.dev/releases/v4/sdpi-components.js"></script>
  <title>PTZ Settings</title>

  <style>
    body { font-family: sans-serif; padding: 10px; }
    sdpi-item { margin-bottom: 8px; }
  </style>

</head>
<body>
  <h3>Configurações PTZ - FOCUS</h3>

  <sdpi-item label="Speed">
    <sdpi-range setting="speed" min="1" max="7" step="1" default="5"></sdpi-range>
  </sdpi-item>
  <sdpi-item label="direction">
    <sdpi-select setting="action" default="none" placeholder="Selecione a direção">
      <option value="none" disabled selected hidden>Selecione...</option>
      <option value="focusin">FocusIn</option>
      <option value="focusout">FocusOut</option>
    </sdpi-select>
  </sdpi-item> 

  <!-- <script src="ptz-settings.js"></script> -->
   <script>
    const { streamDeckClient } = SDPIComponents;

    streamDeckClient.on('connected', (jsn) => {
      console.log('Property Inspector conectado', jsn);
      // settings ja são carregadas nos componentes automaticamente
    });

    // Quando o usuário interagir com os componentes, sdpi-components atualiza automaticamente
    // Você pode usar também um botão ou evento manual se quiser.

    streamDeckClient.getSettings().then(settings => {
      console.log('Configurações iniciais:', settings);
    });
    //ou podemos fazer:
    // streamDeckClient.setSettings({ tilt: 45, speed: 7, direction: 'right' });
  </script>
</body>
</html>
